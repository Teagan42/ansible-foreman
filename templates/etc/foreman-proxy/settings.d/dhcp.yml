---
# {{ ansible_managed }}

{% if foreman_proxy_dhcp %}
# Can be true, false, or http/https to enable just one of the protocols
:enabled: {{ foreman_proxy_dhcp_protocol }}
{% else %}
:enabled: false
{% endif %}

# valid providers:
#   - dhcp_isc (ISC dhcp server)
#   - dhcp_native_ms (Microsoft native implementation)
#   - dhcp_virsh (simple implementation for libvirt)
:use_provider: {{ foreman_proxy_dhcp_provider }}

:server: {{ foreman_proxy_dhcp_server }}

# subnets restricts the subnets queried to a subset, to reduce the query time.
{% if foreman_proxy_dhcp_subnets is defined and foreman_proxy_dhcp_subnets != None %}
:subnets: [ {% for net in foreman_proxy_dhcp_subnets %}{{ net.network }}/{{ net.mask }}{% if not loop.last %},{% endif %}{% endfor %} ]
{% endif %}
